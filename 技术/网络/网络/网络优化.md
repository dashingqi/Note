#### 网络优化

###### 请求预热

- 提前发送一个无body的head请求，同域下提前建立好链接；（TCP、TLS、IP）；
- TCP链接可以复用，池化；
- 域名-->IP DNS；

###### 同一域

- 尽量业务使用同一个域名，同一个域提前建立好的TCP链接可以复用去做http请求；
- 对于不用的域名发网络请求时，需要重新建立TCP、TLS比较耗时；

###### 压缩&协议

- 使用GZip、BR算法压缩Body减小数据量，减小传输的数据量；
- 对于网络图片优先推荐使用WebP格式的图片；
- WebP提供了更小的文件大小和更好的图片质量（Jpeg)，支持透明度（PNG）
- 传输协议上可以选择Protocol Buffers,这是Google推出的高效序列化数据格式；相对于传统的文本格式 JSON，该协议对于序列化好的二进制数据更加紧凑；
  - "application/x-protobuf"

###### 无网情况

- 配合OkHttp的拦截器，自定义无网拦截器返回本地缓存；
- 对请求添加cache-control:max-age:1年

###### 网络切换

- 客户端网络切换时，自动关闭缓存池中的链接
- 原因是客户端网络切换时，现有的网络地址发生变化，链接是建立在网络地址之上；

