## 屏幕适配

#### dp是如何计算的

###### 公式

- px = dp(dpi/160)
- dp = px/(dpi/160)
- density = dpi/160
- dp = px/density
- dip即为dp
- ppi即为dpi

###### dpi

- dpi是像素密度，指的是在系统软件上指定的单位尺寸的像素数量。
- 往往是写在系统出厂配置文件的一个固定值。
- dpi的计算，比如480 * 320分辨率
  - 屏幕对角线长度：根号下 3x3  + 2 x2 = 
  - 那么单位尺寸的像素密度就是 dpi  =   320/(根号下 3x3  + 2 x2) = 

#### 适配方案

###### 最原始的Android适配方法

- dp+自适应布局和weight比例布局可以基本解决不同手机上的适配问题。

###### 宽高限定符

- 列举市面上所有Android手机的宽度像素值。
- 设定一个基准值，其他文件按照比例编写对应的尺寸
- 比如 480 * 320 
  - 宽度为320，将任何分辨率的宽度分为320份。
  - 高度为480，将任何分辨率的高度分为480份。
- 致命的缺点就是：必须要命中相同的分辨率，不然的话就使用默认的dimens文件了。

###### 今日头条适配方案

- 通过修改density值，强行把所有不同尺寸分辨率的手机宽度dp值改成一个统一的值，这样就解决了所有适配问题。
- density = dpi/160
- 如果是老项目的在维护或者改造，使用这个方法就要三思了。

###### smallestWidth适配

- Android回识别手机屏幕可用的宽度个高度的最小尺寸的dp值，
- 然后根据识别到的结果区资源文件中寻找对应的资源文件。

***与宽高限定符的区别***

- 最小宽度限定符，就算没有命中一样的分辨率，但是它会向下寻找，比如360的没找到，找到了350的，就会使用350的资源文件夹下的。