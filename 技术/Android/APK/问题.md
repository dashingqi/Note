## 问题

#### APK为什么要签名

- 为了确认apk开发者身份和防止内容的篡改，保证了APK的安全性
- 打包的时候有开发者进行apk的签名，在安装apk时Android系统会有相应的开发者身份和内容的正确性验证，验证通过才可以安装apk

#### 具体的签名机制

###### Android7.0以前

- 首先在apk的META_INF/文件夹下生成签名文件，然后在安装时在系统的PackageManagerService里进行签名文件的验证。

###### Android7.0以后

- 从Android7.0开始提供了新的V2签名方案：利用apk压缩文件的格式，在几个原有内容区之外增加了一块用于存放签名信息的数据区，然后同样在安装时在系统的PackageManagerService里进行V2的签名校验。
- V2签名的方案会更安全使得校验更快安装更快。
- V2的签名方案具有向后兼容性的。



#### V1 和 V2签名

- V1签名：是采用Jar签名,针对未压缩的文件内容进行了验证，所以在签名之后可以进行很多修改，
- V2签名（7.0）：是对整个APK文件进行签名的
- V3签名（9.0）：是对于V2签名的升级版，



